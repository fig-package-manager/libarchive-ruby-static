LIBARCHIVE_OBJS = \
archive_acl.o \
archive_blake2sp_ref.o \
archive_blake2s_ref.o \
archive_check_magic.o \
archive_cmdline.o \
archive_cryptor.o \
archive_digest.o \
archive_disk_acl_darwin.o \
archive_disk_acl_freebsd.o \
archive_disk_acl_linux.o \
archive_disk_acl_sunos.o \
archive_entry.o \
archive_entry_copy_bhfi.o \
archive_entry_copy_stat.o \
archive_entry_link_resolver.o \
archive_entry_sparse.o \
archive_entry_stat.o \
archive_entry_strmode.o \
archive_entry_xattr.o \
archive_getdate.o \
archive_hmac.o \
archive_match.o \
archive_options.o \
archive_pack_dev.o \
archive_pathmatch.o \
archive_ppmd7.o \
archive_ppmd8.o \
archive_random.o \
archive_rb.o \
archive_read_add_passphrase.o \
archive_read_append_filter.o \
archive_read.o \
archive_read_data_into_fd.o \
archive_read_disk_entry_from_file.o \
archive_read_disk_posix.o \
archive_read_disk_set_standard_lookup.o \
archive_read_disk_windows.o \
archive_read_extract2.o \
archive_read_extract.o \
archive_read_open_fd.o \
archive_read_open_file.o \
archive_read_open_filename.o \
archive_read_open_memory.o \
archive_read_set_format.o \
archive_read_set_options.o \
archive_read_support_filter_all.o \
archive_read_support_filter_by_code.o \
archive_read_support_filter_bzip2.o \
archive_read_support_filter_compress.o \
archive_read_support_filter_grzip.o \
archive_read_support_filter_gzip.o \
archive_read_support_filter_lrzip.o \
archive_read_support_filter_lz4.o \
archive_read_support_filter_lzop.o \
archive_read_support_filter_none.o \
archive_read_support_filter_program.o \
archive_read_support_filter_rpm.o \
archive_read_support_filter_uu.o \
archive_read_support_filter_xz.o \
archive_read_support_filter_zstd.o \
archive_read_support_format_7zip.o \
archive_read_support_format_all.o \
archive_read_support_format_ar.o \
archive_read_support_format_by_code.o \
archive_read_support_format_cab.o \
archive_read_support_format_cpio.o \
archive_read_support_format_empty.o \
archive_read_support_format_iso9660.o \
archive_read_support_format_lha.o \
archive_read_support_format_mtree.o \
archive_read_support_format_rar5.o \
archive_read_support_format_rar.o \
archive_read_support_format_raw.o \
archive_read_support_format_tar.o \
archive_read_support_format_warc.o \
archive_read_support_format_xar.o \
archive_read_support_format_zip.o \
archive_string.o \
archive_string_sprintf.o \
archive_util.o \
archive_version_details.o \
archive_virtual.o \
archive_windows.o \
archive_write_add_filter_b64encode.o \
archive_write_add_filter_by_name.o \
archive_write_add_filter_bzip2.o \
archive_write_add_filter.o \
archive_write_add_filter_compress.o \
archive_write_add_filter_grzip.o \
archive_write_add_filter_gzip.o \
archive_write_add_filter_lrzip.o \
archive_write_add_filter_lz4.o \
archive_write_add_filter_lzop.o \
archive_write_add_filter_none.o \
archive_write_add_filter_program.o \
archive_write_add_filter_uuencode.o \
archive_write_add_filter_xz.o \
archive_write_add_filter_zstd.o \
archive_write.o \
archive_write_disk_posix.o \
archive_write_disk_set_standard_lookup.o \
archive_write_disk_windows.o \
archive_write_open_fd.o \
archive_write_open_file.o \
archive_write_open_filename.o \
archive_write_open_memory.o \
archive_write_set_format_7zip.o \
archive_write_set_format_ar.o \
archive_write_set_format_by_name.o \
archive_write_set_format.o \
archive_write_set_format_cpio_binary.o \
archive_write_set_format_cpio.o \
archive_write_set_format_cpio_newc.o \
archive_write_set_format_cpio_odc.o \
archive_write_set_format_filter_by_ext.o \
archive_write_set_format_gnutar.o \
archive_write_set_format_iso9660.o \
archive_write_set_format_mtree.o \
archive_write_set_format_pax.o \
archive_write_set_format_raw.o \
archive_write_set_format_shar.o \
archive_write_set_format_ustar.o \
archive_write_set_format_v7tar.o \
archive_write_set_format_warc.o \
archive_write_set_format_xar.o \
archive_write_set_format_zip.o \
archive_write_set_options.o \
archive_write_set_passphrase.o \
filter_fork_posix.o \
filter_fork_windows.o \
xxhash.o

.c.o:
	gcc -DHAVE_CONFIG_H -DLIBARCHIVE_STATIC -D_SSIZE_T_DEFINED -I.. $(CFLAGS) -g -O2 -MD -MP -c -DPIC $<

libarchive.a: $(LIBARCHIVE_OBJS)
	ar cru libarchive.a $^ $(LIBZLIB_A)

clean:
	rm -f *.o *.d libarchive.a

veryclean: clean
	rm -f Makefile config.h
